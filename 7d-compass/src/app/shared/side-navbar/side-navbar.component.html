<mat-sidenav-container class="app-container">
<mat-sidenav
  #sidenav
  [mode]="isMobile ? 'over' : 'side'"
  [opened]="!isMobile || isSidenavOpen"
  fixedInViewport="true"
  class="app-sidenav"
>
    <div class="sidebar-title">
      <img src="assets/svg/7Compass-blue.svg" alt="Compass Logo" class="sidebar-logo" />
      <span class="sidebar-title-text">Compass</span>
    </div>

    <mat-divider></mat-divider>

    <mat-form-field>
      <mat-select disabled [(value)]="selectedCompany">
        <mat-select-trigger>
          <div style="display: flex; align-items: center; gap: 8px">
            <img src="assets/svg/PeopleGas.svg" width="28" height="28" />
            People Gas
          </div>
        </mat-select-trigger>
        <mat-option value="option1">
          <div style="display: flex; align-items: center; gap: 8px">
            <img src="assets/svg/PeopleGas.svg" width="28" height="28" />
            People Gas
          </div>
        </mat-option>
        <mat-option value="option2" disabled>Option 2</mat-option>
        <mat-option value="option3">Option 3</mat-option>
      </mat-select>
    </mat-form-field>

    <mat-accordion>

      <!-- Overview -->
      <mat-expansion-panel [expanded]="isExpanded(['/overview'])">
        <mat-expansion-panel-header>
          <mat-icon>dashboard</mat-icon>
          <span>Overview</span>
        </mat-expansion-panel-header>
        <a mat-button routerLink="/overview" routerLinkActive="active-link" (click)="closeSidenav()">Overview</a>
      </mat-expansion-panel>

      <!-- RTR Data -->
      <mat-expansion-panel [expanded]="isExpanded(['/rtr-processing', '/misc-generation'])">
        <mat-expansion-panel-header>
          <mat-icon>storage</mat-icon>
          <span>RTR Data</span>
        </mat-expansion-panel-header>
        <a mat-button routerLink="/rtr-processing" routerLinkActive="active-link" (click)="closeSidenav()">RTR Processing</a>
        <a mat-button routerLink="/misc-generation" routerLinkActive="active-link" (click)="closeSidenav()">Misc Generation</a>
      </mat-expansion-panel>

      <!-- Files & Reports -->
      <mat-expansion-panel [expanded]="isExpanded(['/report-center', '/files-permits'])">
        <mat-expansion-panel-header>
          <mat-icon>folder</mat-icon>
          <span>Files & Reports</span>
        </mat-expansion-panel-header>
        <a mat-button routerLink="/report-center" routerLinkActive="active-link" (click)="closeSidenav()">Report Center</a>
        <a mat-button routerLink="/files-permits" routerLinkActive="active-link" (click)="closeSidenav()">Files & Permits</a>
      </mat-expansion-panel>

      <!-- Routes -->
      <mat-expansion-panel [expanded]="isExpanded(['/route-generator', '/route-history', '/route-tracker'])">
        <mat-expansion-panel-header>
          <mat-icon>alt_route</mat-icon>
          <span>Routes</span>
        </mat-expansion-panel-header>
        <a mat-button routerLink="/route-generator" routerLinkActive="active-link" (click)="closeSidenav()">Route Generator</a>
        <a mat-button routerLink="/route-history" routerLinkActive="active-link" (click)="closeSidenav()">Route History</a>
        <!-- <a mat-button routerLink="/route-tracker" routerLinkActive="active-link" (click)="closeSidenav()">Route Tracker</a> -->
      </mat-expansion-panel>

      <!-- Revenue -->
      <mat-expansion-panel [expanded]="isExpanded(['/income', '/fines-penalties'])">
        <mat-expansion-panel-header>
          <mat-icon>payments</mat-icon>
          <span>Revenue</span>
        </mat-expansion-panel-header>
        <a mat-button routerLink="/income" routerLinkActive="active-link" (click)="closeSidenav()">Income</a>
        <a mat-button routerLink="/fines-penalties" routerLinkActive="active-link" (click)="closeSidenav()">Fines & Penalties</a>
      </mat-expansion-panel>

      <!-- Manage -->
      <mat-expansion-panel [expanded]="isExpanded([
        '/users', '/contract-units', '/payments', '/invoices',
        '/fines', '/supervisors', '/inventory', '/suppliers',
        '/equipment', '/crews', '/ticket'
      ])">
        <mat-expansion-panel-header>
          <mat-icon>manage_accounts</mat-icon>
          <span>Manage</span>
        </mat-expansion-panel-header>
        <a mat-button routerLink="/users" routerLinkActive="active-link" (click)="closeSidenav()">Users</a>
        <a mat-button routerLink="/contract-units" routerLinkActive="active-link" (click)="closeSidenav()">Contract Units</a>
        <a mat-button routerLink="/payments" routerLinkActive="active-link" (click)="closeSidenav()">Payments</a>
        <a mat-button routerLink="/invoices" routerLinkActive="active-link" (click)="closeSidenav()">Invoices</a>
        <a mat-button routerLink="/fines" routerLinkActive="active-link" (click)="closeSidenav()">Fines</a>
        <a mat-button routerLink="/supervisors" routerLinkActive="active-link" (click)="closeSidenav()">Supervisors</a>
        <a mat-button routerLink="/inventory" routerLinkActive="active-link" (click)="closeSidenav()">Inventory</a>
        <a mat-button routerLink="/suppliers" routerLinkActive="active-link" (click)="closeSidenav()">Suppliers</a>
        <a mat-button routerLink="/equipment" routerLinkActive="active-link" (click)="closeSidenav()">Equipment</a>
        <a mat-button routerLink="/crews" routerLinkActive="active-link" (click)="closeSidenav()">Crews</a>
        <a mat-button routerLink="/ticket" routerLinkActive="active-link" (click)="closeSidenav()">Ticket</a>
      </mat-expansion-panel>

    </mat-accordion>
  </mat-sidenav>

  <mat-sidenav-content>
    <ng-content></ng-content>
  </mat-sidenav-content>
</mat-sidenav-container>
